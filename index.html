<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title<title> ‚ù§Ô∏è CUPID ‚ù§Ô∏è </title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;900&family=Great+Vibes&family=Montserrat:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #ff0055;
            --cyan: #00f3ff;
            --gold: #ffd700;
            --danger: #ff0000;
            --bg: #050505;
            --glass: rgba(10, 10, 10, 0.85);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; -webkit-tap-highlight-color: transparent; }

        body {
            background-color: var(--bg);
            height: 100vh; width: 100vw; overflow: hidden;
            font-family: 'Montserrat', sans-serif;
            color: white;
            display: flex; justify-content: center; align-items: center;
            background-image: radial-gradient(circle at center, #1a0b2e 0%, #000 100%);
            transition: background 0.5s;
        }

        /* --- BACKGROUND FX --- */
        .neon-border {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 999;
            box-shadow: inset 0 0 20px var(--cyan);
        }
        #fireworksCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 1; pointer-events: none; }

        /* --- SCREEN CONTAINER --- */
        .screen {
            position: absolute; width: 95%; max-width: 450px;
            background: var(--glass);
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px; padding: 30px;
            display: none; flex-direction: column; align-items: center;
            box-shadow: 0 0 50px rgba(0, 243, 255, 0.1);
            opacity: 0; transform: scale(0.9); transition: all 0.6s ease;
        }
        .screen.active { display: flex; opacity: 1; transform: scale(1); }

        /* --- SCREEN 1: SETUP --- */
        .tech-header {
            font-family: 'Orbitron'; font-size: 1.5rem; color: var(--cyan); margin-bottom: 20px;
            text-align: center; border-bottom: 2px solid var(--primary); padding-bottom: 10px; width: 100%;
        }
        .c-input { width: 100%; padding: 12px; background: #222; border: 1px solid #444; color: #fff; margin-bottom: 10px; border-radius: 5px; }
        .file-label { padding: 10px; border: 1px dashed #666; width: 100%; text-align: center; color: #aaa; margin-bottom: 5px; cursor: pointer; }
        .file-label.done { border-color: var(--gold); color: var(--gold); }
        .btn-start {
            width: 100%; padding: 15px; background: linear-gradient(90deg, var(--cyan), var(--primary));
            border: none; color: #fff; font-family: 'Orbitron'; font-weight: bold; cursor: pointer; margin-top: 15px;
        }

        /* --- SCREEN 2: PROPOSAL --- */
        .names-glow {
            font-family: 'Orbitron'; font-size: 2rem; text-align: center; line-height: 1.2;
            text-shadow: 0 0 10px #fff, 0 0 20px var(--primary); animation: glow 2s infinite alternate; margin-bottom: 20px;
        }
        .couple-box { display: flex; gap: 15px; margin-bottom: 20px; }
        .avatar { width: 90px; height: 90px; border-radius: 50%; background-size: cover; border: 3px solid #fff; }
        .countdown { font-family: 'Orbitron'; font-size: 6rem; color: var(--gold); text-shadow: 0 0 30px var(--gold); margin: 20px 0; }
        .q-area { display: none; width: 100%; text-align: center; animation: fadeIn 1s; }
        .q-text { font-family: 'Great Vibes'; font-size: 3.5rem; margin-bottom: 20px; text-shadow: 0 0 10px var(--primary); }
        .btn-yes {
            width: 100%; padding: 15px; background: var(--gold); color: #000; font-weight: bold; font-size: 1.3rem;
            border: none; border-radius: 50px; cursor: pointer; box-shadow: 0 0 30px var(--gold); animation: pulse 1s infinite;
        }

        /* --- SCREEN 3: CONTRACT --- */
        .contract {
            background: #fff; color: #000; padding: 20px; transform: rotate(-2deg); width: 100%;
            font-family: 'Montserrat'; text-align: center; border: 5px double #000; position: relative;
        }
        .stamp {
            position: absolute; bottom: 10px; right: 10px; border: 3px solid red; color: red;
            padding: 5px; font-weight: bold; transform: rotate(-20deg) scale(2); opacity: 0; transition: 0.5s;
        }

        /* --- SCREEN 4: LOVE LETTER (T√ÇM TH∆Ø) --- */
        .letter-content {
            font-family: 'Montserrat'; font-size: 1.1rem; line-height: 1.6; text-align: center;
            color: #eee; text-shadow: 0 0 5px rgba(255,255,255,0.5);
        }
        .highlight { color: var(--gold); font-weight: bold; font-size: 1.2rem; display: block; margin-top: 10px; }

        /* --- SCREEN 5: SYSTEM CRASH (C·∫¢NH B√ÅO) --- */
        .warning-icon { font-size: 5rem; color: var(--danger); animation: shake 0.5s infinite; margin-bottom: 20px; }
        .alert-box {
            border: 2px solid var(--danger); background: rgba(50, 0, 0, 0.9); padding: 20px; text-align: center;
            box-shadow: 0 0 50px var(--danger); animation: flashRed 0.5s infinite;
        }
        .alert-title { font-family: 'Orbitron'; font-size: 1.8rem; color: var(--danger); margin-bottom: 10px; }
        .alert-msg { font-family: 'Share Tech Mono'; color: #fff; font-size: 1rem; }

        /* ANIMATIONS */
        @keyframes glow { from { text-shadow: 0 0 10px #fff; } to { text-shadow: 0 0 30px var(--primary); } }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes shake { 0% { transform: translate(1px, 1px) rotate(0deg); } 10% { transform: translate(-1px, -2px) rotate(-1deg); } 20% { transform: translate(-3px, 0px) rotate(1deg); } 30% { transform: translate(3px, 2px) rotate(0deg); } 40% { transform: translate(1px, -1px) rotate(1deg); } 50% { transform: translate(-1px, 2px) rotate(-1deg); } 60% { transform: translate(-3px, 1px) rotate(0deg); } 70% { transform: translate(3px, 1px) rotate(-1deg); } 80% { transform: translate(-1px, -1px) rotate(1deg); } 90% { transform: translate(1px, 2px) rotate(0deg); } 100% { transform: translate(1px, -2px) rotate(-1deg); } }
        @keyframes flashRed { 0% { border-color: var(--danger); box-shadow: 0 0 20px var(--danger); } 50% { border-color: #fff; box-shadow: 0 0 50px red; } }
        @keyframes bgAlarm { 0% { background: #000; } 50% { background: #330000; } 100% { background: #000; } }

        .alarm-mode { animation: bgAlarm 0.5s infinite; }

    </style>
</head>
<body>
    <audio id="bgMusic" loop><source src="music.mp3" type="audio/mpeg"></audio>
    <div class="neon-border"></div>
    <canvas id="fireworksCanvas"></canvas>

    <div id="s1" class="screen active">
        <div class="tech-header">SYSTEM CONFIG</div>
        <input type="text" id="n1" class="c-input" value="JOKER" placeholder="T√™n B·∫°n">
        <input type="text" id="n2" class="c-input" value="HARLAY QUINN" placeholder="T√™n Ng∆∞·ªùi ·∫§y">
        <label for="f1" class="file-label" id="l1">üì∏ ·∫¢nh Nam</label><input type="file" id="f1" hidden onchange="upImg(this,'u1','l1')">
        <label for="f2" class="file-label" id="l2">üì∏ ·∫¢nh N·ªØ</label><input type="file" id="f2" hidden onchange="upImg(this,'u2','l2')">
        <button class="btn-start" onclick="startApp()">KH·ªûI ƒê·ªòNG H·ªÜ TH·ªêNG >></button>
    </div>

    <div id="s2" class="screen">
        <div class="names-glow" id="dName">NAME & NAME</div>
        <div class="couple-box">
            <div class="avatar" id="av1" style="background-image: url('https://cdn-icons-png.flaticon.com/512/4140/4140048.png');"></div>
            <div class="avatar" id="av2" style="background-image: url('https://cdn-icons-png.flaticon.com/512/4140/4140047.png');"></div>
        </div>
        <div id="cnt" class="countdown">5</div>
        <div id="qArea" class="q-area">
            <div class="q-text">L√†m v·ª£ anh nh√©?</div>
            <button class="btn-yes" onclick="agree()">EM ƒê·ªíNG √ù ‚ù§Ô∏è</button>
            <button style="margin-top:10px; background:none; border:none; color:#888;" onclick="agree()">Em c·∫ßn suy nghƒ©...</button>
        </div>
    </div>

    <div id="s3" class="screen">
        <div class="contract">
            <h2>H·ª¢P ƒê·ªíNG T√åNH Y√äU</h2>
            <br><p>B√™n A: <b id="cN1"></b></p><p>B√™n B: <b id="cN2"></b></p>
            <br><p>"Cam k·∫øt b√™n nhau tr·ªçn ƒë·ªùi, d√π ·ªëm ƒëau hay kh·ªèe m·∫°nh, d√π gi√†u sang hay ngh√®o kh√≥."</p>
            <div class="stamp" id="stamp">ƒê√É K√ù</div>
        </div>
        <button class="btn-start" style="margin-top:20px" onclick="toLetter()">ƒê·ªåC T√ÇM TH∆Ø >></button>
    </div>

    <div id="s4" class="screen">
        <div class="letter-content" id="letterText"></div>
        <button class="btn-start" style="margin-top:20px; background: #333;" onclick="triggerCrash()">TI·∫æP T·ª§C >></button>
    </div>

    <div id="s5" class="screen" style="border-color: red; box-shadow: 0 0 50px red;">
        <div class="warning-icon">‚ù§Ô∏è‚ö†Ô∏è</div>
        <div class="alert-box">
            <div class="alert-title">SYSTEM OVERLOAD</div>
            <div class="alert-msg">
                >> PH√ÅT HI·ªÜN CH·ªà S·ªê T√åNH C·∫¢M V∆Ø·ª¢T QU√Å GI·ªöI H·∫†N CHO PH√âP <<
                <br><br>
                H·ªá th·ªëng kh√¥ng th·ªÉ x·ª≠ l√Ω l∆∞·ª£ng h·∫°nh ph√∫c kh·ªïng l·ªì n√†y!
                <br><br>
                TR·∫†NG TH√ÅI: BU·ªòC D·ª™NG HO·∫†T ƒê·ªòNG.
                <br><br>
                <span style="color: yellow; font-size: 1.2rem; font-weight: bold;">
                    CH√öC 2 B·∫†N TRƒÇM NƒÇM H·∫†NH PH√öC!
                </span>
            </div>
        </div>
    </div>

    <input type="hidden" id="u1"><input type="hidden" id="u2">

    <script>
        const audio = document.getElementById('bgMusic');
        let fwActive = false;

        function upImg(i,t,l){
            if(i.files[0]){
                const r=new FileReader();
                r.onload=e=>{document.getElementById(t).value=e.target.result; document.getElementById(l).classList.add('done'); document.getElementById(l).innerText="‚úÖ OK";}
                r.readAsDataURL(i.files[0]);
            }
        }

        function switchS(id){
            document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));
            setTimeout(()=>document.getElementById(id).classList.add('active'),100);
        }

        function startApp(){
            const n1=document.getElementById('n1').value.toUpperCase();
            const n2=document.getElementById('n2').value.toUpperCase();
            document.getElementById('dName').innerText = `${n1} & ${n2}`;
            document.getElementById('cN1').innerText = n1;
            document.getElementById('cN2').innerText = n2;
            
            const u1=document.getElementById('u1').value;
            const u2=document.getElementById('u2').value;
            if(u1) document.getElementById('av1').style.backgroundImage=`url('${u1}')`;
            if(u2) document.getElementById('av2').style.backgroundImage=`url('${u2}')`;

            switchS('s2');
            audio.volume=0.5; audio.play().catch(()=>{});

            let c=5;
            const timer=setInterval(()=>{
                c--;
                document.getElementById('cnt').innerText=c;
                if(c<=0){
                    clearInterval(timer);
                    document.getElementById('cnt').style.display='none';
                    document.getElementById('qArea').style.display='block';
                }
            },1000);
        }

        function agree(){
            // PH√ÅT NH·∫†C CAO TR√ÄO
            audio.currentTime=0; audio.volume=1.0; audio.play();
            
            // PH√ÅO HOA
            fwActive=true; launchFW();

            // SANG H·ª¢P ƒê·ªíNG
            switchS('s3');
            setTimeout(()=>{
                const s=document.getElementById('stamp');
                s.style.opacity=1; s.style.transform="rotate(-20deg) scale(1)";
            },1000);
        }

        function toLetter(){
            switchS('s4');
            const txt = `C·∫£m ∆°n em v√¨ ƒë√£ ƒë·∫øn b√™n anh. <br><br>
            H√¥m nay l√† m·ªôt ng√†y v√¥ c√πng ƒë·∫∑c bi·ªát m√† anh s·∫Ω ghi nh·ªõ su·ªët cu·ªôc ƒë·ªùi n√†y.<br>
            Tuy hi·ªán t·∫°i anh kh√¥ng th·ªÉ ·ªü ngay b√™n c·∫°nh em,<br>
            nh∆∞ng anh h·ª©a ch·∫Øc ch·∫Øn s·∫Ω b√™n em tr·ªçn ƒë·ªùi v·ªÅ sau.<br><br>
            <span class="highlight">Y√äU EM H∆†N T·∫§T C·∫¢!</span>`;
            
            const el = document.getElementById('letterText');
            el.innerHTML = txt;
        }

        function triggerCrash(){
            switchS('s5');
            document.body.classList.add('alarm-mode');
            // B·∫Øn ph√°o hoa lo·∫°n x·∫° h∆°n
            setInterval(()=>{
                createFW(Math.random()*w, Math.random()*h);
            }, 100);
        }

        // --- FIREWORKS ---
        const cvs=document.getElementById('fireworksCanvas');
        const ctx=cvs.getContext('2d');
        let w,h,parts=[];
        function sz(){w=cvs.width=window.innerWidth;h=cvs.height=window.innerHeight;}
        window.addEventListener('resize',sz);sz();

        function createFW(x,y){
            const clr=['#f0f','#0ff','#ff0','#fff'];
            for(let i=0;i<60;i++){
                const t=(Math.PI*2*i)/60;
                const vx=16*Math.pow(Math.sin(t),3);
                const vy=-(13*Math.cos(t)-5*Math.cos(2*t)-2*Math.cos(3*t)-Math.cos(4*t));
                parts.push({x:x,y:y,vx:vx*0.1,vy:vy*0.1,c:clr[Math.floor(Math.random()*4)],a:1});
            }
        }
        function launchFW(){ setInterval(()=>{createFW(Math.random()*w,Math.random()*h*0.6)},400); }
        function anim(){
            ctx.clearRect(0,0,w,h);
            parts.forEach((p,i)=>{
                p.x+=p.vx;p.y+=p.vy;p.vy+=0.05;p.a-=0.015;
                ctx.globalAlpha=p.a;ctx.fillStyle=p.c;
                ctx.beginPath();ctx.arc(p.x,p.y,2,0,Math.PI*2);ctx.fill();
                if(p.a<=0)parts.splice(i,1);
            });
            requestAnimationFrame(anim);
        }
        anim();
    </script>
</body>
</html>


